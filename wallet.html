<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wallet - MovieHatch</title>
    <!-- Favicon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="https://cdn-icons-png.flaticon.com/128/6878/6878693.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://cdn-icons-png.flaticon.com/128/6878/6878693.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="https://cdn-icons-png.flaticon.com/128/6878/6878693.png"
    />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#e50914" />
    <meta name="msapplication-TileColor" content="#221f1f" />
    <meta name="theme-color" content="#221f1f" />

    <!-- Primary Meta Tags -->
    <title>MovieHatch - Premium Movie Streaming & Download Platform</title>
    <meta
      name="description"
      content="Stream unlimited movies and TV shows in HD quality. Download your favorites to watch offline. Join MovieHatch for the best streaming experience with no ads."
    />
    <meta
      name="keywords"
      content="stream movies, watch TV shows, movie downloads, premium streaming, HD movies, no ads streaming, online cinema"
    />
    <meta name="author" content="MovieHatch" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://moviehatch.onrender.com/" />
    <meta
      property="og:title"
      content="MovieHatch - Premium Movie Streaming & Download Platform"
    />
    <meta
      property="og:description"
      content="Stream unlimited movies and TV shows in HD quality. Download your favorites to watch offline with MovieHatch."
    />
    <meta
      property="og:image"
      content="https://cdn-icons-png.flaticon.com/128/6878/6878693.png"
    />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://moviehatch.onrender.com/" />
    <meta
      name="twitter:title"
      content="MovieHatch - Premium Movie Streaming & Download Platform"
    />
    <meta
      name="twitter:description"
      content="Stream unlimited movies and TV shows in HD quality. Download your favorites to watch offline with MovieHatch."
    />
    <meta
      name="twitter:image"
      content="https://cdn-icons-png.flaticon.com/128/6878/6878693.png"
    />

    <!-- Structured Data / Schema Markup -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "MovieHatch",
        "url": "https://moviehatch.onrender.com",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://moviehatch.onrender.com/search?q={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "MovieHatch",
        "url": "https://moviehatch.onrender.com",
        "logo": "https://cdn-icons-png.flaticon.com/128/6878/6878693.png",
        "sameAs": [
          "https://moviehatch.onrender.com",
          "https://moviehatch.onrender.com",
          "https://moviehatch.onrender.com"
        ]
      }
    </script>

    <!-- Canonical URL -->
    <link rel="canonical" href="https://moviehatch.onrender.com" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    <style>
      :root {
        --primary: #e50914;
        --primary-dark: #b2070f;
        --secondary: #221f1f;
        --light: #f5f5f1;
        --dark: #000000;
        --gold: #ffd700;
        --green: #00d4aa;
        --blue: #007bff;
        --purple: #6f42c1;
        --transition: all 0.3s ease;
        --gradient: linear-gradient(
          135deg,
          var(--primary),
          var(--primary-dark)
        );
        --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        --shadow-hover: 0 15px 40px rgba(0, 0, 0, 0.4);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Montserrat", sans-serif;
        background: linear-gradient(
          135deg,
          var(--secondary) 0%,
          var(--dark) 100%
        );
        color: var(--light);
        overflow-x: hidden;
        line-height: 1.6;
        min-height: 100vh;
      }

      /* Preloader */
      .preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--secondary);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.5s ease;
      }

      .preloader.fade-out {
        opacity: 0;
      }

      .loader {
        width: 60px;
        height: 60px;
        border: 6px solid var(--light);
        border-top: 6px solid var(--primary);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Header */
      .header {
        background: rgba(0, 0, 0, 0.95);
        backdrop-filter: blur(10px);
        padding: 15px 0;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
      }

      .header-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        font-family: "Playfair Display", serif;
        font-weight: 300;
        font-size: 1.8rem;
        color: var(--primary);
        text-decoration: none;
        position: relative;
      }

      .logo::after {
        content: "";
        position: absolute;
        bottom: -3px;
        left: 0;
        width: 100%;
        height: 2px;
        background: var(--gradient);
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .logo:hover::after {
        transform: scaleX(1);
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .back-btn {
        background: rgba(255, 255, 255, 0.1);
        color: var(--light);
        border: none;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        margin-right: 10px;
      }

      .back-btn:hover {
        background: var(--primary);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .user-profile {
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        padding: 8px 15px;
        border-radius: 25px;
        transition: var(--transition);
      }

      .user-profile:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .user-avatar {
        width: 35px;
        height: 35px;
        border-radius: 50%;
        background: var(--gradient);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
      }

      /* Main Container */
      .main-container {
        margin-top: 80px;
        padding: 30px 20px;
        max-width: 1400px;
        margin-left: auto;
        margin-right: auto;
      }

      /* Page Title */
      .page-title {
        font-family: "Playfair Display", serif;
        font-size: 2.5rem;
        margin-bottom: 30px;
        text-align: center;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        position: relative;
        display: inline-block;
        left: 50%;
        transform: translateX(-50%);
      }

      .page-title::after {
        content: "";
        position: absolute;
        bottom: -10px;
        left: 0;
        width: 100%;
        height: 3px;
        background: var(--gradient);
        border-radius: 3px;
      }

      /* Wallet Card */
      .wallet-card {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 20px;
        padding: 40px;
        margin-bottom: 40px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: var(--shadow);
        transition: var(--transition);
        position: relative;
        overflow: hidden;
      }

      .wallet-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-hover);
      }

      .wallet-card::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(229, 9, 20, 0.1) 0%,
          transparent 70%
        );
        z-index: -1;
        animation: rotate 15s linear infinite;
      }

      @keyframes rotate {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .balance-display {
        text-align: center;
        margin-bottom: 30px;
      }

      .balance-label {
        font-size: 1.2rem;
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 10px;
      }

      .balance-amount {
        font-size: 3.5rem;
        font-weight: 700;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 5px;
      }

      .balance-naira {
        font-size: 1.2rem;
        color: var(--gold);
        opacity: 0.8;
      }

      .wallet-actions {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 30px;
      }

      .wallet-btn {
        padding: 15px 30px;
        border-radius: 12px;
        font-weight: 700;
        font-size: 1.1rem;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 10px;
        border: none;
        min-width: 180px;
        justify-content: center;
      }

      .deposit-btn {
        background: var(--gradient);
        color: white;
        box-shadow: 0 5px 15px rgba(229, 9, 20, 0.3);
      }

      .withdraw-btn {
        background: var(--green);
        color: white;
        box-shadow: 0 5px 15px rgba(0, 212, 170, 0.3);
      }

      .wallet-btn:hover {
        transform: translateY(-3px);
        box-shadow: var(--shadow-hover);
      }

      .wallet-btn:disabled {
        background: rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.5);
        cursor: not-allowed;
        box-shadow: none;
      }

      .wallet-btn:disabled:hover {
        transform: none;
        box-shadow: none;
      }

      /* Deposit Modal */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(5px);
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        visibility: hidden;
        transition: var(--transition);
      }

      .modal-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .modal-container {
        background: linear-gradient(
          135deg,
          rgba(34, 31, 31, 0.95) 0%,
          rgba(0, 0, 0, 0.95) 100%
        );
        border-radius: 20px;
        width: 90%;
        max-width: 600px;
        max-height: 90vh;
        overflow-y: auto;
        padding: 30px;
        box-shadow: var(--shadow);
        transform: translateY(20px);
        transition: var(--transition);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .modal-overlay.active .modal-container {
        transform: translateY(0);
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
      }

      .modal-title {
        font-family: "Playfair Display", serif;
        font-size: 1.8rem;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .close-modal {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.7);
        font-size: 1.5rem;
        cursor: pointer;
        transition: var(--transition);
      }

      .close-modal:hover {
        color: var(--primary);
        transform: rotate(90deg);
      }

      .deposit-options {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .deposit-tabs {
        display: flex;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        margin-bottom: 20px;
      }

      .deposit-tab {
        padding: 12px 20px;
        cursor: pointer;
        position: relative;
        color: rgba(255, 255, 255, 0.7);
        font-weight: 600;
        transition: var(--transition);
      }

      .deposit-tab.active {
        color: var(--light);
      }

      .deposit-tab.active::after {
        content: "";
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        height: 3px;
        background: var(--gradient);
      }

      .deposit-tab:hover:not(.active) {
        color: var(--light);
      }

      .deposit-content {
        display: none;
      }

      .deposit-content.active {
        display: block;
        animation: fadeIn 0.5s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .deposit-method {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 20px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: var(--transition);
      }

      .deposit-method:hover {
        background: rgba(255, 255, 255, 0.08);
        border-color: var(--primary);
      }

      .method-header {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
      }

      .method-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(0, 212, 170, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
        color: var(--green);
        font-size: 1.2rem;
      }

      .method-title {
        font-weight: 700;
        font-size: 1.1rem;
      }

      .method-details {
        margin-top: 15px;
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.9rem;
      }

      .detail-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
      }

      .detail-label {
        color: rgba(255, 255, 255, 0.5);
      }

      .copy-btn {
        background: rgba(255, 255, 255, 0.1);
        color: var(--light);
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        transition: var(--transition);
        font-size: 0.8rem;
        display: flex;
        align-items: center;
        gap: 5px;
        margin-top: 5px;
      }

      .copy-btn:hover {
        background: var(--primary);
      }

      .copy-success {
        color: var(--green);
        font-size: 0.8rem;
        margin-top: 5px;
        display: none;
      }

      .minimum-amount {
        color: var(--gold);
        font-weight: 600;
        margin-top: 15px;
      }

      /* Transaction History */
      .history-section {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 20px;
        padding: 30px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: var(--shadow);
      }

      .section-title {
        font-family: "Playfair Display", serif;
        font-size: 1.8rem;
        margin-bottom: 25px;
        color: var(--light);
        position: relative;
        display: inline-block;
      }

      .section-title::after {
        content: "";
        position: absolute;
        bottom: -8px;
        left: 0;
        width: 50%;
        height: 3px;
        background: var(--gradient);
        border-radius: 3px;
      }

      .transactions-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .transaction-item {
        background: rgba(255, 255, 255, 0.03);
        border-radius: 12px;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: var(--transition);
        border-left: 4px solid transparent;
      }

      .transaction-item:hover {
        background: rgba(255, 255, 255, 0.08);
        transform: translateX(5px);
      }

      .transaction-type {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .transaction-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
      }

      .deposit-icon {
        background: rgba(0, 212, 170, 0.2);
        color: var(--green);
      }

      .withdrawal-icon {
        background: rgba(229, 9, 20, 0.2);
        color: var(--primary);
      }

      .transaction-info {
        display: flex;
        flex-direction: column;
      }

      .transaction-title {
        font-weight: 600;
        margin-bottom: 5px;
      }

      .transaction-date {
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.5);
      }

      .transaction-amount {
        font-weight: 700;
        text-align: right;
      }

      .deposit-amount {
        color: var(--green);
      }

      .withdrawal-amount {
        color: var(--primary);
      }

      .transaction-status {
        font-size: 0.8rem;
        color: var(--gold);
        margin-top: 3px;
      }

      .empty-history {
        text-align: center;
        padding: 40px;
        color: rgba(255, 255, 255, 0.5);
        font-size: 1.1rem;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .header-content {
          padding: 0 15px;
        }

        .main-container {
          padding: 20px 15px;
        }

        .page-title {
          font-size: 2rem;
        }

        .wallet-card {
          padding: 30px 20px;
        }

        .balance-amount {
          font-size: 2.5rem;
        }

        .wallet-actions {
          flex-direction: column;
          gap: 15px;
        }

        .wallet-btn {
          width: 100%;
        }

        .modal-container {
          padding: 20px;
        }

        .history-section {
          padding: 20px;
        }
      }

      @media (max-width: 480px) {
        .logo {
          font-size: 1.5rem;
        }

        .page-title {
          font-size: 1.8rem;
        }

        .balance-amount {
          font-size: 2rem;
        }

        .transaction-item {
          flex-direction: column;
          align-items: flex-start;
          gap: 10px;
        }

        .transaction-amount {
          align-self: flex-end;
        }
      }

      /* Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-fadeInUp {
        animation: fadeInUp 0.6s ease forwards;
      }

      /* Success/Error Messages */
      .message {
        padding: 15px 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        font-weight: 600;
        text-align: center;
        animation: fadeInUp 0.5s ease;
      }

      .message.success {
        background: rgba(0, 212, 170, 0.2);
        border: 1px solid var(--green);
        color: var(--green);
      }

      .message.error {
        background: rgba(229, 9, 20, 0.2);
        border: 1px solid var(--primary);
        color: var(--primary);
      }
    </style>
  </head>
  <body>
    <!-- Preloader -->
    <div class="preloader">
      <div class="loader"></div>
    </div>

    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <button class="back-btn" onclick="window.history.back()">
          <i class="fas fa-arrow-left"></i>
        </button>
        <a href="index.html" class="logo">MovieHatch</a>

        <div class="header-actions">
          <div class="user-profile" onclick="toggleUserMenu()">
            <div class="user-avatar" id="userAvatar">U</div>
            <span id="userName">User</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
      <h1 class="page-title">Your Wallet</h1>

      <!-- Balance Card -->
      <div class="wallet-card animate-fadeInUp">
        <div class="balance-display">
          <div class="balance-label">Available Balance</div>
          <div class="balance-amount">
            $<span id="currentBalance">0.00</span>
          </div>
          <div class="balance-naira">
            ≈ ₦<span id="nairaEquivalent">0.00</span>
          </div>
        </div>

        <div class="wallet-actions">
          <button class="wallet-btn deposit-btn" onclick="openDepositModal()">
            <i class="fas fa-plus-circle"></i> Deposit
          </button>
          <button
            class="wallet-btn withdraw-btn"
            id="withdrawBtn"
            onclick="handleWithdraw()"
          >
            <i class="fas fa-money-bill-wave"></i> Withdraw
          </button>
        </div>
      </div>

      <!-- Transaction History -->
      <div
        class="history-section animate-fadeInUp"
        style="animation-delay: 0.2s"
      >
        <h2 class="section-title">Transaction History</h2>
        <div class="transactions-list" id="transactionsList">
          <!-- Transactions will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Deposit Modal -->
    <div class="modal-overlay" id="depositModal">
      <div class="modal-container">
        <div class="modal-header">
          <h2 class="modal-title">Deposit Funds</h2>
          <button class="close-modal" onclick="closeDepositModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="deposit-options">
          <div class="deposit-tabs">
            <div
              class="deposit-tab active"
              onclick="switchDepositTab('crypto')"
            >
              Crypto (USDT)
            </div>
            <div class="deposit-tab" onclick="switchDepositTab('bank')">
              Bank Transfer (NGN)
            </div>
          </div>

          <!-- Crypto Deposit -->
          <div class="deposit-content active" id="cryptoDeposit">
            <div class="deposit-method">
              <div class="method-header">
                <div class="method-icon">
                  <i class="fab fa-bitcoin"></i>
                </div>
                <h3 class="method-title">USDT (TRC20)</h3>
              </div>
              <div class="method-details">
                <div class="detail-row">
                  <span class="detail-label">Network:</span>
                  <span>Tron (TRC20)</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">Deposit Address:</span>
                  <span>TMUDuZzsL7AQ578D3dHGr5vEVXyB2c7XWz</span>
                </div>
                <button
                  class="copy-btn"
                  onclick="copyToClipboard('TMUDuZzsL7AQ578D3dHGr5vEVXyB2c7XWz', 'cryptoCopySuccess')"
                >
                  <i class="fas fa-copy"></i> Copy Address
                </button>
                <div class="copy-success" id="cryptoCopySuccess">
                  <i class="fas fa-check"></i> Copied to clipboard
                </div>
                <div class="minimum-amount">
                  <i class="fas fa-info-circle"></i> Minimum deposit: 5 USDT
                </div>
              </div>
            </div>

            <div class="deposit-method">
              <div class="method-header">
                <div class="method-icon">
                  <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h3 class="method-title">Important Notice</h3>
              </div>
              <div class="method-details">
                <p>1. Send only USDT (TRC20) to this address.</p>
                <p>
                  2. Do not send other cryptocurrencies as they will be lost.
                </p>
                <p>
                  3. Deposits may take 5-30 minutes to reflect in your account.
                </p>
                <p>
                  4. Contact support if your deposit doesn't appear after 1
                  hour.
                </p>
              </div>
            </div>
          </div>

          <!-- Bank Deposit -->
          <div class="deposit-content" id="bankDeposit">
            <div class="deposit-method">
              <div class="method-header">
                <div class="method-icon">
                  <i class="fas fa-university"></i>
                </div>
                <h3 class="method-title">Bank Transfer (NGN)</h3>
              </div>
              <div class="method-details">
                <div class="detail-row">
                  <span class="detail-label">Bank Name:</span>
                  <span>Moniepoint MFB</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">Account Name:</span>
                  <span>PRECIOUS AHUEKWE</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">Account Number:</span>
                  <span>5555969924</span>
                </div>
                <button
                  class="copy-btn"
                  onclick="copyToClipboard('5555969924', 'bankCopySuccess')"
                >
                  <i class="fas fa-copy"></i> Copy Account Number
                </button>
                <div class="copy-success" id="bankCopySuccess">
                  <i class="fas fa-check"></i> Copied to clipboard
                </div>
                <div class="minimum-amount">
                  <i class="fas fa-info-circle"></i> Exchange Rate: $1 ≈ ₦1,500
                </div>
              </div>
            </div>

            <div class="deposit-method">
              <div class="method-header">
                <div class="method-icon">
                  <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h3 class="method-title">Deposit Instructions</h3>
              </div>
              <div class="method-details">
                <p>1. Send your payment to the account details above.</p>
                <p>
                  2. After payment, send proof to WhatsApp support with your
                  account email.
                </p>
                <p>3. Deposits are processed within 1-12 hours.</p>
                <p>4. Minimum deposit: ₦3,000 (~$2).</p>
                <p>
                  5. Contact support if your deposit doesn't appear after 12
                  hours.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDJP2XIR51qGTLINiKvEoscYTMt11CaZ5s",
        authDomain: "paytrust-71e30.firebaseapp.com",
        databaseURL: "https://paytrust-71e30-default-rtdb.firebaseio.com/",
        projectId: "paytrust-71e30",
        storageBucket: "paytrust-71e30.appspot.com",
        messagingSenderId: "492609516838",
        appId: "1:492609516838:android:5a924ad3b7e8e508fa3de7",
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const database = firebase.database();

      // Global variables
      let currentUser = null;
      let currentBalance = 0;
      const exchangeRate = 1500; // $1 = ₦1500

      // Initialize app
      document.addEventListener("DOMContentLoaded", function () {
        // Hide preloader
        setTimeout(() => {
          document.querySelector(".preloader").classList.add("fade-out");
          setTimeout(() => {
            document.querySelector(".preloader").style.display = "none";
          }, 500);
        }, 1000);

        // Check authentication
        auth.onAuthStateChanged((user) => {
          if (user) {
            currentUser = user;
            initializeUserData();
            loadTransactionHistory();
          } else {
            window.location.href = "login.html";
          }
        });
      });

      // Initialize user data
      function initializeUserData() {
        database
          .ref("users/" + currentUser.uid)
          .once("value")
          .then((snapshot) => {
            const userData = snapshot.val();
            if (userData) {
              document.getElementById("userName").textContent =
                userData.name || "User";
              document.getElementById("userAvatar").textContent = (
                userData.name || "User"
              )
                .charAt(0)
                .toUpperCase();

              // Update balance
              if (userData.balance !== undefined) {
                currentBalance = parseFloat(userData.balance) || 0;
                updateBalanceDisplay();
              }
            }
          });
      }

      // Update balance display
      function updateBalanceDisplay() {
        document.getElementById("currentBalance").textContent =
          currentBalance.toFixed(2);
        document.getElementById("nairaEquivalent").textContent = (
          currentBalance * exchangeRate
        ).toFixed(2);

        // Update withdraw button state
        const withdrawBtn = document.getElementById("withdrawBtn");
        if (currentBalance >= 100) {
          withdrawBtn.disabled = false;
          withdrawBtn.title = "";
        } else {
          withdrawBtn.disabled = true;
          withdrawBtn.title = "Minimum withdrawal amount is $100";
        }
      }

      // Deposit modal functions
      function openDepositModal() {
        document.getElementById("depositModal").classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeDepositModal() {
        document.getElementById("depositModal").classList.remove("active");
        document.body.style.overflow = "auto";
      }

      function switchDepositTab(tab) {
        // Update tabs
        document.querySelectorAll(".deposit-tab").forEach((t) => {
          t.classList.remove("active");
        });
        document
          .querySelector(`.deposit-tab[onclick*="${tab}"]`)
          .classList.add("active");

        // Update content
        document.querySelectorAll(".deposit-content").forEach((c) => {
          c.classList.remove("active");
        });
        document.getElementById(`${tab}Deposit`).classList.add("active");
      }

      // Copy to clipboard
      function copyToClipboard(text, successElementId) {
        navigator.clipboard.writeText(text).then(() => {
          const successElement = document.getElementById(successElementId);
          successElement.style.display = "block";
          setTimeout(() => {
            successElement.style.display = "none";
          }, 2000);
        });
      }

      // Handle withdraw
      function handleWithdraw() {
        if (currentBalance >= 100) {
          window.location.href = "withdraw.html";
        } else {
          showMessage(
            `Minimum withdrawal amount is $100. You need $${(
              100 - currentBalance
            ).toFixed(2)} more.`,
            "error"
          );
        }
      }

      // Load transaction history
      function loadTransactionHistory() {
        const transactionsList = document.getElementById("transactionsList");
        transactionsList.innerHTML =
          '<div class="loading"><div class="loading-spinner"></div></div>';

        database
          .ref(`transactions/${currentUser.uid}`)
          .orderByChild("timestamp")
          .limitToLast(10)
          .once("value")
          .then((snapshot) => {
            transactionsList.innerHTML = "";

            if (!snapshot.exists()) {
              transactionsList.innerHTML =
                '<div class="empty-history">No transactions yet</div>';
              return;
            }

            const transactions = [];
            snapshot.forEach((childSnapshot) => {
              transactions.push({
                id: childSnapshot.key,
                ...childSnapshot.val(),
              });
            });

            // Sort by timestamp (newest first)
            transactions.reverse();

            transactions.forEach((transaction) => {
              const transactionItem = createTransactionElement(transaction);
              transactionsList.appendChild(transactionItem);
            });
          });
      }

      // Create transaction element
      function createTransactionElement(transaction) {
        const element = document.createElement("div");
        element.className = "transaction-item";

        const isDeposit = transaction.type === "deposit";
        const amount = parseFloat(transaction.amount).toFixed(2);
        const date = new Date(transaction.timestamp).toLocaleString();

        element.innerHTML = `
          <div class="transaction-type">
            <div class="transaction-icon ${
              isDeposit ? "deposit-icon" : "withdrawal-icon"
            }">
              <i class="fas fa-${isDeposit ? "plus" : "minus"}"></i>
            </div>
            <div class="transaction-info">
              <div class="transaction-title">${
                isDeposit ? "Deposit" : "Withdrawal"
              }</div>
              <div class="transaction-date">${date}</div>
            </div>
          </div>
          <div class="transaction-amount ${
            isDeposit ? "deposit-amount" : "withdrawal-amount"
          }">
            ${isDeposit ? "+" : "-"}$${amount}
            ${
              transaction.status
                ? `<div class="transaction-status">${transaction.status}</div>`
                : ""
            }
          </div>
        `;

        return element;
      }

      // Show message
      function showMessage(text, type) {
        const message = document.createElement("div");
        message.className = `message ${type}`;
        message.textContent = text;

        document
          .querySelector(".main-container")
          .insertBefore(message, document.querySelector(".wallet-card"));

        setTimeout(() => {
          message.remove();
        }, 5000);
      }

      // User menu toggle (placeholder)
      function toggleUserMenu() {
        // Add user menu functionality here
        console.log("User menu clicked");
      }

      // Close modal on escape key
      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") {
          closeDepositModal();
        }
      });

      // Close modal on background click
      document
        .getElementById("depositModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closeDepositModal();
          }
        });
    </script>
  </body>
</html>
